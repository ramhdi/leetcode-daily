// https://leetcode.com/problems/unique-length-3-palindromic-subsequences
// 2023/11/14

use std::collections::HashSet;

fn count_palindromic_subsequence(s: String) -> i32 {
    let mut result: i32 = 0;

    let mut unique_characters: HashSet<char> = HashSet::new();
    for c in s.chars() {
        unique_characters.insert(c);
    }

    for &uc in unique_characters.iter() {
        let mut i: i32 = -1;
        let mut j: i32 = 0;
        for (k, c) in s.chars().enumerate() {
            if uc == c {
                if i == -1 {
                    i = k as i32;
                }
                j = k as i32;
            }
        }

        let mut between: HashSet<char> = HashSet::new();
        for k in i + 1..j {
            match s.chars().nth(k as usize) {
                Some(c) => {
                    between.insert(c);
                }
                None => (),
            }
        }
        result += between.len() as i32;
    }

    return result;
}

fn main() {
    println!("{}", count_palindromic_subsequence("nsnasqpikesbigujlxfwendtvxkkggclwgxmiethvkuycpbjlgrdoiqaqiqjwginbkilhfrdlbngjhexuxjhytnkaejgclvicgctracrmfqrcepvgunhzsrdmdlmciqzfvaprhmxgxaeuztpeobkvptitasgkivqoznygwiekzojordnoasaifnoknmeswexzabzoxltyfsmykcgjzbpolvrdtqevpwyrkitgpskouqoqhipbdufgjnjvdnfkfnpxcpjyojaqpcsptzwwyhloqebmunrrhwxcbyymehuhthgvoeexnktvzmeabqalaomwzrzlrrqizxtwkargvsaiqcujdshqruraziobxldsubyvmmehmhkyyynidnaqwrarkglqrnvxdreauowlfuloqenmilsjikijoaytgzmekwncbbigqighqjpqzhlhdsjitffbpicbckdnlwrjoeoyrgydbrlzmcnwsjslyfbgqapiecgrohgpzhmsnpskktsnmlhsnbhcqqebsvtqairdkjsmbxznyyqnzlojwcenfmgwcnrjxcttzisfvsbthimxtzvmuixhdvfmbfmqydtbjuwkvhfraqztzfskbkeurmvicswgqsywcdfjnbsuijkqtvzirdeaisjvgtxyzpajnpmvegnajoxzfiyknpbuowpuhupbwsmyvvxaqtdqaragwjcuakvjippzbknkpwtseeegakrowvwmvtgticruvzdbvocvforxthsdhidgpegdrubaelyereriqvosgfeijqmkpxshtuhxnzwwlyfbhoampkxgbmedzkvebtxfedipomllotrfnblpezywfscnyeeizkmapsxvbschbiyezgjlarqfsxsjhxspeqlcywovxwfnnyjqtupitptimobsevmftramowblvnhrhsteqggjqwbqjdvlyyaevrjurgqutbtjtehbkkkqaqogbikmglgvvifsaiwtdkbzhbrxtvmixsedpivkgxqxjsytezewkphoblqjhnqwaztlcbbadzznakqyctmsqagbbzslsrtuxeaofskbgdbbwrfajufjnlikalzjddnibkodsymrbuoczdcsesvgtqgacwzagsmyjdsmmbdliaqhvthansaprdtfgbrxprouvpcuvuaprcvwlszprvqnlxtipxqugesvdlqmnsqwvxowabtossmvetmmnrlnaardynuqcsxetzleorukvkecvxpztrjvkwowylcczoagaorrzkmtanfufpqjksqmasjnaavbpobqebstvjzjlhuptuvgkkjsptpzlcdqcxiwfmgadylhvsztliasrbemqfwilqrdeisgoafpfmoljkywuibigszhpdacbotsfowdgdwnwgctarammnujxkomkixbfptsxslqdemvllagqwasawnhujidcniovxwqxwrlhepbbghlcqhfsfrlguqqvnlftpltcsreoahpqnuefkycbzycvmtvykcjxwnqneitwjdooisxqhhirwofwfgzzpadgpkbpkifrsfbrfmmpzqussnybbsqfyyhienpqghcfuocqtsdjlxfvbfjrqullliauetmxqxjbfwfzbeghztclfqlsqnuuesqkobnsrtmbkgxamgcjasbseknfwipxvlguomjgdhzthcfhwunukjvuzefrmkltivaupztzglqikhyebplixmknsfrtwaysmuwelhgoxdwlwjrgqqgavqrxgihwubpzgxthlnsxqyqbskxvyeelmcllmycxdwetfyvgnmbaqfbrdlwslirksnptmxetnemzqdmqxolzlklqnoldljeyzpbzuetflghzmwtziizwyoviluzlalqzpvdcwxhgfkhjzwygstsetaeysluphppwttmgsmjnsjfbxufhkxfkmnrzfngqvziipwakytuwtoqjsadzhqwtcvggftqbpmxbpfmwcyfdpnpvpvbjaruzqymllzbqkagizawizhkautdwhxkxmfcwdzgiqrqptmtcjzxubwghmkyoavjoofkxzxzknccxvftakfhqzrxmdapadffqzafuileizotozvowhpbkosizcktehvxqluyhcqffcanubktmrqrjbnvrwjwbsegpaurnzixoqmupvoealfcbzukqhjrlnycezsjqyabbcssbwaznjscwzdegyashiiwskijcgyrsstolbvprddgmlcxizetakitykbdvkshcsqabsfsdlvijzqxeoqzencghxentgpbznzsuasjpxshnbokileanehyyvjcyjlwnvwjiopsuelgidmdhgnyrobexqqleicqsdiimtzghywdjbbdwfacblvehmmrrzjrqtxzarltokympzysjrlucfallhqlsseonylxqhiruqdcdvvvztdyjofqxfovgcxylkwwmrxkmmczupxudmxdpxmijxkehfwshunzstwlvmojarjsqbzvnqhbtvupehgpfkyhokzldnkntsqhlhkztjdxrgqcnunimwdfiqwjrpqalubxqvqjzaamcycmzpceqjldbjuxewcmqjiykxttfindeebbkxkljebvrsnkqlgeaozztiszfejasbxkqrtiogrdkpgctuuraomthykgevdzmdjpeoanjchuheavxfubledmqywxotmhokcuzrmwlfnwbcuajrpynjzdmihuukgehrkgavyskktiimgrobdwrckvtirbdpltqjhpbufmaqkyaaiuvgletkgizkhtxwcpxikgwrmbcvncjsrezcpytdwdjoblumyckrerwyvxnwglmogrbfvfnkqjqeknjnoapkgaedzafkvhwqogfugrfmlevfedksnhogmkwpstytwndirexczvpcxkbnpntpobafkedghvejgkgdssexcijdbcqpueyljcrisubakuhpicflvatimvqktxmzccxdaetdsnzijbkfprnzuzltkwjqtbyjvpktdjzoourwgrtfrzhckldmtshecehzcspmzctuoxgflcrpjgoatgmaitizilfrhfszpzzxjyfjlcjgzgqnxicuozrdkooqxgurenhlrkyztrnctjhpchgkcfnlukswccviglatuvjcmgapxjgccuvpwrkudpldbclpbtcjlyqirormgxwpdjgdziakccsotybpmvmhlvqpcdytqkktfiinneydqlnxwfjsrqcpwmgjysrdiqzfsfkncldujfqpizpyulopnrpnguptsniqdpsthfiodebgszakvdxoymaauermrzufgmjvvblzwopiraasjvxqhmvzhucshsbbddbditfaerbuclxvlqbjjdmeqgymmuiyhdjfvgxqohskbxfhfbdcbkbrurtubjtgzydmmwzfsqysbtvxcsdzqncjaleefnjzrccuauyewxoxzrxudvulwgjirxprjxlekpokhaengqbbqqgabqrqjmnjgioqyvawmfxejzvyhrwrokqsgoostaaxzsxyrrhiwmdlbcsrwmzreslipdutqynoazercbqdtbdtpeivijzefbbtlyrfsuecklnpdehewfjxjeqjkjepeyippthhtmxtlflosvjkhnoxzlpximsiowybmspywbjqidzinawljpqbsburkayknuvnahktiwqeqeictvoevsgvzwdmgycwngwqicryhtogzixzfnroqpptljyxqpidsqidasbcrtltdhpglaosybrhzitqcrxzbwjmufxzjteahanhcnoykhamliajdzdbfjlmavluzrawkxlhfjcvgwfwiujvnembkqddprvkrxplanelaefvraqwjpupiufggfiqlfjwsgsgomsmaocurscsgmirefgecxamtcmmpgtmvqvseyebndwhnrswcmuucwpmuahdwzpauqnehcbduqyfqcmrfazxvtmesqmfxngntbqieyrqozkcklqkbdcdavrlsqrfdodsxiqcggporzvipvcvhyyghxptljmdxbmuhdcvkopyviwhhsjibhiisnnrkjwxpxgzmoegpflpyinpmmztztzgdgeituswrhchdfwldlxpivbrwggxpromlfjcainzljyxuzyecpuujcbntornscdcyqedvsgdqkerprzivfhrstlqhvwrfhhfquwwpcttfjfhfrrrtegnvtxddxemvylpcdwonvetzhqeajpvjvocyomockwbcnbhztmkdwfkimczakknmipymqowlqutoujbkwycpcekzmdvcpnawysbjgaauroyrezoiwuivshjvlcjxybkfzyxeylzglwtdkskmqphjtythtrjugzjpnjfcvyybqhtnmybldjixojycttrheajrgvmzbnvaugntxzqyliqltlotmdtxqqbthjemkgzxnbsxnqluytgtcnoklrypjcypfxehmqqqeifxaaduyjpkiuomljvbsjfqbikucyeozhrfmnaosdsunpbylvxtymqcgvpomsmzckodieiycakpqlharbndqrktbacniglabaaddsekvwybctdzbxobjfgpajmqxvbzhhcuulvotjogdzpiqdlcxmweiwupiaehtxcnzdiuqbsyqzawhzqdfzecminmdrfaacfudgukltvhnenmaxpbvhlapkklvejqyswyipbzbumzhzigvinghkmsdrxligmtfvnwuduemjygtqdwtuhlhqqessechkiwzhxfzezdguigjkvzunztvurhxdaufsocgqqbpxrmaxwcctnqvfjpebjmskbujxlqaxvpudwjbyocapgfalftriodqqovnjfekltscicbiwnwwzhgzeshpajzgjcynfxntkhsrsvxwjhmguhwdnpuehvloyoeuiraqhdahpkcvmnujovajsojdtpwfouytatqdjjfirwjslvrfejinvudztdldgfokxvqdclifmobygywfxrrcbjvouziexflhrfdceqqyknsmhrmiikldslyyajqcydtiwkiwhkvgcxcjqoiakvcbsragzggjdiepcvkfxvtgqycrnryiwamhirxlmxdxxvtuwncgtxfuxsfitmnjwlbvwasjlyorayslykqjwtdtghcsbratgonnfpubabrexmkfxdfrqdccpuowynwdkawymjkanzllvtddpcdnfnxzklucyffvtlhggdztrleuigmrbwwitlucfcecinfectyhgiehamzkqnihtlisocwwmpoetxxnyyhbubuiftjbsksqxrfmgmmfciguvxugwcluvdszqlvjtyuwvqwxgzlrlicwxrgpxttnzbarxatitetcwfsdybcakhljvngnnsqmozjnsmtjsmcwcxphbwbjsyuqojawzstfdmnknlzzohafyyiqzwxgctblkvzfivhjlgztkrzouyresmhinllbsokjcqwiqkbhfwifrnewovopwgyezbnixizaecrakgwusffvdbwluomvebmwpyvshdypcvmmgtcicmiayrkcdrrshkcxszipkmhmzirxlneuwljtmrzdbpzwrpcjtawzqaelwuthenwyazfontkuhxiotctootvpnspfefpeoynarmjzunuhmskiadtkfxcdezjgdkhgutahxjtqghorlevglazdrnmbbgnvnthqrgpkmgwuqtpfnsnvofskpnidloszczjtgavqvqgomtjcpaygxkryyexusbkeskqecbklzunklssmnbpjoglyoofjrhregkbgdzsmkcnucnkkfpagjmgkfomdksiadysvnsjuuaqpnlrsesguzrybganmfsmhvyizvqksmsoqlddlwjrtigyamdutwmkwzmxlowrxcjwjpaynweyaiaapuqcjnyyfprwwgjleectnphcquorxkpfboippbatrljbvvfxqbdwhsncleajufnbioxuptxknzguehjbjiwoeccqbsotnkgybzhawoylzlqemvbyglnakdausvkaqiqwjwdxuufikqwlbzjzqvwqslmxfuozpyigmwvbewcuutyvaddkumxuigqecvpdqtdmeqouyuaxncgzgntaiffwngdjizxktarioasxojwtoivwbciforuioobmqxuqschnnujtquchlcppglawkjvxknjwiiuqkmuljqjpefhudxovejzniqnkixogfiyrtfrcfrflvyxenmhlvultfquctbswowjornyvrdqtsrhnhhwfmoktjimowknghddnpgipydcxnligblurbvrgxhizmyvavjclrjyzjmelzhscgqnaacjqrhiijhwqiuowjaweksvnngnxjonwszqapayuskgaaargsdpbcngbeqjsdzefmvpigfxkbpggfvetrjpbutwyoxtvcrjpldbjbaosegaigscwhupwslkszzejhvlbdtoeegjmxeqiojxoebmwipqlkievvrqilnlkjlftcdbftsnjfuuehtfuhuiuhnsglnfsjjhawyryizjmrhjyauysqvtdtmzmixabxbfaecdpyccvpfeoxczykfdttcgfmiaivkolovtyrqtcenexskiukrfsvoeawicleschilzomqejwwihzpapqlpcsaslyzopfncoqxqhzxlkezcsadcimxnkfxlifwanvpkllxnvvgbkxbrkwthqvfpkjutcilbbfbrdikoqztoppzwhgecoteciwyllqttxcbhqwssqddzthjbjrsrmhepkfkbeuhdrrsteipsahgnchqdrysvukqteuylwacqcdutkywunpmepvpalgwcvicmqgldvxgpakiqmmiltfcdrigafwijxklgxexbcckfhouhdrfjwawpzqqiogjjiwslckkxfcyietddifirsvptospkzlozfermzkalcfruqibiznayxakdqyqogwrdyqfyyeysewygihkkqtplrkqyknsaurfdpousyvvaqkwdobwhcodtjyztuopirkvneenosbutojbypqetylpxnuboevwftytvytcbmavdgnvjoiwcrpeymdbfjofoqjcdgtqmtxgvleomzyvgaohduvtvihrujlfxeanirvqvpdnlbvnbaahxfdhcsdzsqpgfqzzthybhgwlvpoxzdnzqtcucjfrkevnniwyrldnfaxishamyewigsdyufjugmbukuhlvhmvexbxuxvqynwwwrvonxvbhbetgiuznnauznwsifcmjblkpmxohmuuyowfyfmxtjcqtsmzzoenyfssveqwvhghhjmqhuofpvaaclnsfhagqccqflkkmkyksogkuoxuzyndinvbckkduggilwiteuukfzdspkyzpxymsw".to_string()));
}
